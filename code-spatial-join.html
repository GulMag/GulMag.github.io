<!DOCTYPE html>
<html>
  <head><link rel="stylesheet" type="text/css" href="mystyle.css"></head>
  <style>
    body {
      /*background-image: url('back_stv.jpg');*/
      background-repeat: no-repeat;
      background-attachment: fixed;
      background-size: cover;
    }
    .header {
      background-color: transparent;
    }
  </style>

  <div class="header">
    <h1>Python</h1>
    <p>Resize the browser window to see the responsive effect.</p>
  </div>
      
  <!--------------------Navigation Bar--------------------->
  <div class="topnav">
      <a href="index.html">Home</a>
  </div>
  <!------------------------------------------------------->

  <div class="artblock">
      <h1>Pandas Library</h1>
      <p>
        pandas aims to be the fundamental high-level building block for doing practical, real world data analysis in Python.
      </p>
      <p><a href="https://pandas.pydata.org/Pandas_Cheat_Sheet.pdf">Pandas Cheat Sheet</a></p>
      <p>
          Join tables (data frames) based on location using spatial join. When joining datasets by
          attributes we need matching keys in both tables, a spatial join requires locations, i.e. latitude and longitude.   
      </p>
      <p>
          I found a blog "towards data science" where 
          Spatial joins allow you to quickly transfer a point table into areas table or vice versa. 
          Example: How many Airbnb listings in each voting district
      </p>
      <p class="code">
          import pandas as pd <br>
          import geopandas as gpd <br>

          # 1-  Listing points <br>
          listings = pd.read_csv(“data/.csv”) <br>
          # 2 - convert to Geopandas Geodataframe <br>
          gdf_listings = gpd.GeoDataFrame(listings, <br>
          geometry=gpd.points_from_xy(listings.longitude, listings.latitude)) <br>
          # 3 - Neighbourhoods <br>
          geojson_file = “data/stockholm_neighbourhoods.geojson” <br>
          
      </p>
  </div>

  <div class="card">
    <h2>Python General</h2>
    <p><dd>
        <dt>Check Version</dt>
        <dd><code>
            pandas.__version__
        </code></dd>
        <dt>Path Handling pathlib</dt>
        <dd>Python 3.4 introduced a new standard library for dealing with files and paths called pathlib. 
            To use it, you just pass a path or filename into a new Path() object using forward slashes and it handles the rest.
            <code>
                from pathlib import Path <br>
                data_folder = Path("source_data/text_files/") <br>
                file_to_open = data_folder / "raw_data.txt" <br>
                f = open(file_to_open) <br>
                print(f.read())
            </code>
        </dd>
    </dd></p>
  </div>
  <div class="card">
    <h2>Geopandas</h2>
    <p><dd>
        <dt>Installation with Anaconda</dt>
        <dd>The conda package manager provides pre-built binaries for all required and 
            optional dependencies of GeoPandas for all platforms (Windows, Mac, Linux).
        <code>
            conda install geopandas <br>
            import panda as pd <br>
            import geopanda as gpd <br>
        </code></dd>
        <dt>Read Spatial Data</dt>
        <dd>geopandas can read almost any vector-based spatial data format including 
            ESRI shapefile, GeoJSON files and more
        <code>
            geopandas.read_file()
        </code></dd>
    </dd></p>
  </div>

</html>