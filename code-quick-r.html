<!DOCTYPE html>
<html>
  <head><link rel="stylesheet" type="text/css" href="mystyle.css"></head>
  <style>
    body {
      /*background-image: url('back_stv.jpg');*/
      background-repeat: no-repeat;
      background-attachment: fixed;
      background-size: cover;
    }
    .header {
      background-color: transparent;
    }
  </style>

  <div class="header">
    <h1>R Quick References</h1>
    <p>Resize the browser window to see the responsive effect.</p>
  </div>
      
  <!--------------------Navigation Bar--------------------->
  <div class="topnav">
      <a href="index.html">Home</a>
  </div>
  <!------------------------------------------------------->

  <body>

  <div class="row">
    <!------------------- LEFT COLUMN ------------------>
    <div class="leftcolumn">
      <div class="card"> <!--basics-->
        <h2>Basics</h2>
        <h5></h5>
        <p><dl>
          <dt>Install Packages</dt>
          <dd><code>install.packages("tidyverse")</code></dd>
          <dt>Load library</dt>
          <dd><code>library(readxl)</code></dd>
          <dt>Set Working Directory</dt>
          <dd><code>setwd("~/R/conflict/")</code></dd>
          <dt>Read/Write Excel File</dt>
          <dd><code>
            readxl("Africa_1997-2020_Mar21-1.xls")<br>
          </code></dd>
          <dt>Read csv file</dt>
          <dd><code>df <- read.csv2(file = 'Africa_1997-2020_Mar21-1.csv')</code></dd>
          <dt>Summary</dt>
          <dd><code>
              head(df)<br>
              summary(df)<br>
              str()
          </code></dd>
          <dt>Print Output</dt>
          <dd><code>
            print(var.1)<br>
            cat ("var.1 is ", var.1 ,"\n")
          </code></dd>
          <dt>Examine features of vectors and other objects</dt>
          <dd><code>
            class()<br>
            typeof()<br>
            length()<br>
            attributes()<br>
          </code></dd>
          <dt>Matrix and Vector Operations</dt>
          <dd><code>
            colnames(df)[1] <br>
          </code></dd>
          <dt>R Factors</dt>
          <dd>Change integer values of variable into factors and then names</dd>
          <dd>Factor is a data structure used for fields that takes only predefined, 
            finite number of values (categorical data, e.g. marital status). In such case, 
            we know the possible values beforehand and these predefined, distinct values are called levels. 
            Following is an example of factor in R. <br>
            <code>
              comp.f <- factor(comp, labels = c("private", "public"))
            </code>
          </dd>
          <dd><code><per>
            unfactorize <- function(df){ 
              for(i in which(sapply(df, class) == "factor")) df[[i]] = as.character(df[[i]])
              return(df)
            }
          </per></code></dd>
          <dt>Extract unique elements</dt>
          <dd>
            This is a generic function with methods for vectors, data frames and arrays (including matrices).
            The array method calculates for each element of the dimension specified by MARGIN if the remaining dimensions are identical to those for an earlier element (in row-major order). This would most commonly be used for matrices to find unique rows (the default) or columns (with MARGIN = 2).
            <code>
            unique(x, incomparables = FALSE, ...)
          </code></dd>
        </dl></p>
      </div> 
      <div class="card"> <!--dplyr-->
          <h2><code>dplyr plyr</code></h2>
          <p><dl>
            <dt>Drop columns from Dataframe</dt>
            <dd>
              delete first, third and fourth column<br>
              <code>mydata2 = select(mydata, -1, -3:-4)</code> <br>
              delete columns a, x and y<br>
              <code>
                mydata2 = select(mydata, -a, -x, -y)<br>
                mydata2 = select(mydata, -c(a, x, y))<br>
                mydata2 = select(mydata, -a:-y) 
              </code>
            </dd>
            <dt>Keep columns from Dataframe</dt>
            <dd>
              keep columns a, y and z
              <code>mydata2 = select(mydata, a, y:z)</code> 
            </dd>
            <dt>Retain only unique/distinct rows from an input tbl. This is similar to unique.data.frame(), but considerably faster.</dt>
            <dd><code>distinct(.data, ..., .keep_all = FALSE)<br>
              nrow(distinct(df, df[,2]))</code></dd>
            <dt>Group by one or more variables</dt>
            <dd><code>
              group_by(.data, ..., add = FALSE, .drop = group_by_drop_default(.data)) <br>
              ungroup(x, ...)
            </code></dd>
            <dt>Recode Factor</dt>
            <dd><code>
              rmapvalues(x, from = c("beta", "gamma"), to = c("two", "three"))
            </code></dd>
          </dl></p>
      </div> 
    </div>
    <!------------------- RIGHT COLUMN ------------------>
    <div class="rightcolumn">
      <div class="card" background-color: none>
        <h2>Navigation</h2>
        <div class = "btn-group">
          <a href="code-string-matching.html"><button class="button">String Matching</button></a>
          <a href="code-spatial-join.html"><button class="button">Spatial Join Python</button></a>
          <a href="code-quick-r.html"><button class="button">Quick R</button></a>
          <a href="code-nlp.html"><button class="button">NLP</button></a>
          <a href="code-gradient-boosted-trees.html"><button class="button">Gradient Boosted Trees</button></a>
          <a href="code-xgboost-r.html"><button class="button">XGBoost in R</button></a>
        </div>
      </div>
    </div>

    <div class="card">
      <h1>R Quick References</h1>
      <p>Resize the browser window to see the responsive effect.</p>
    </div>
    <!-------------------- END COLUMN ------------------->
  </div>

  </body>
</html>